# Copyright (c) Microsoft Corporation.
# Licensed under the MIT license.

#=======================================================================================================================
# Project Directories
#=======================================================================================================================

export BINDIR ?= $(CURDIR)/bin

#=======================================================================================================================
# Toolchain Configuration
#=======================================================================================================================

# C
export CC := gcc
export CFLAGS := -std=c99 -D_POSIX_C_SOURCE=199309L
export CFLAGS += -Werror -Wall -Wextra -O3

#=======================================================================================================================
# Build Artifacts
#=======================================================================================================================

# Source Files
SRC=$(wildcard *.c)

# Executable File
EXEC=hello.elf

#=======================================================================================================================

all:
	mkdir -p $(BINDIR)
	$(CC) $(CFLAGS) $(SRC) -o $(BINDIR)/$(EXEC)

run:
	$(BINDIR)/$(EXEC)

clean:
	rm -f $(BINDIR)/$(EXEC)
